# Bắt đầu từ image gốc của Microsoft để có sẵn các công cụ cần thiết
FROM mcr.microsoft.com/vscode/devcontainers/universal:2-linux

# Chuyển sang user root để cài đặt phần mềm
USER root

# Cập nhật và cài đặt XFCE, XRDP, và các công cụ cần thiết cho desktop
# Dùng DEBIAN_FRONTEND=noninteractive để tránh các câu hỏi tương tác khi cài đặt
RUN apt-get update && export DEBIAN_FRONTEND=noninteractive \
    && apt-get -y install --no-install-recommends xfce4 xfce4-goodies dbus-x11 xrdp

# Chuyển về user mặc định của codespace
USER vscode
